<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MichiWeb</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <img src="/imagenes/logo.png" alt="Logo" class="logo">
        <div class="header-content">
            <h1>TP Nro 1- Ruaro Francina</h1>
            
        </div>
    </header>

    <aside>
        <nav>
            <ul>
                <li><button onclick="obtenerHechoGatos()">Api - Cats Fact</button></li>
                <li><button onclick="fotoGatito()">Foto</button></li>
            </ul>
        </nav>
    </aside>

    <main>
        <div id="frase-container" class="frase-aleatoria"></div>

        <article>
            <p>Espero poder superarme y aprender nuevas tecnologías, en este trabajo tuve mucha libertad y creatividad. Me encantó!</p> <br>
        </article>

        <div id="contenido-api">
            
        </div>
    </main>

    <footer>
        <p>TygWeb 2025</p>
    </footer>

</body>

<script>
    // Espero a que se cargue todo el contenido del HTML 
    document.addEventListener('DOMContentLoaded', () => {
    
        // Arreglo con las frases
        const frases = [
            {   texto: "No puedo ir, tengo un gato durmiendo encima mío" ,
                clase: "c1"
            },
            {   texto: "Los mejores inviernos son durmiendo la siesta con un michi",
                clase: "c2"
             },
            {   texto: "Amo a mi gato",
                clase: "c3"
             }
        ];
        
        // Elige una frase aleatoria del array
        const fraseAleatoria = frases[Math.floor(Math.random() * frases.length)];
    
        // Busco en el documento el contenedor donde se mostrará la frase
        const contenedorFrase = document.getElementById('frase-container');
    
        // Muestro la frase elegida en ese contenedor
        contenedorFrase.textContent = fraseAleatoria.texto;
        contenedorFrase.classList.add(fraseAleatoria.clase);
    

    });
    
    
    // Api 1 "Cat Facts"
    async function obtenerHechoGatos() {
        try {
            //Solicitud a la API 
            const respuesta = await fetch("https://catfact.ninja/fact");
    
            // Si la respuesta no fue ok
            if (!respuesta.ok) {
                throw new Error(`Error HTTP: ${respuesta.status}`);
            }
    
            // Convierto la respuesta a formato JSON
            const datos = await respuesta.json();
    
            // Creoun nuevo párrafo con el hecho recibido
            const parrafo = document.createElement('p');
            parrafo.textContent = datos.fact;
    
            // Lo agrego al div con id "contenido-api"
            document.getElementById('contenido-api').appendChild(parrafo);
    
            // Devuelvo el hecho 
            return datos.fact;
    
        } catch (error) {
            // Si algo sale mal, error 
            console.log('Ocurrió un error al hacer fetch:', error);
        }
    }
    
    
    // API 2 "CATAAS"
    async function fotoGatito() {
        try {
            //Para que no se repita la imagen
            const urlConCacheBust = `${"https://cataas.com/cat"}?t=${Date.now()}`; 
    
            // Como lo que muestro es una imagen, creo el elemento
            const imagen = document.createElement('img');
            imagen.src = urlConCacheBust; // Le damos la URL de la imagen
            imagen.alt = "Gatito aleatorio"; // Texto alternativo por accesibilidad
    
            // Ajusto el tamaño asi no me ocupa toda la pantalla
            imagen.style.width = "300px";
            imagen.style.marginTop = "10px";
    
            // Agrego la imagen dentro del contenedor
            document.getElementById('contenido-api').appendChild(imagen);
    
        } catch (error) {
            // Si no se puede cargar la imagen,mensaje de error
            console.log('Ocurrió un error al cargar la imagen:', error);
        }
    }
    
    </script>
    

</html>